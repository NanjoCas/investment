

## ASAC_Trader.py

这是一个名为ASAC_Trader.py的文件，定义了一个名为ASAC_Trader_wrapper的类。该类包含了初始化方法 \_\_init\_\_()，选择动作方法 choose_action()，评估方法 evaluate()，添加经验方法 add_experience()，软更新方法 soft_update()，交易员学习方法 trader_learn()，保存模型方法 save_model()，加载模型方法 load_model()。主要功能包括创建交易员、Q网络、回放缓冲区，选择动作，评估动作，学习交易员并更新网络参数，保存和加载模型。

## asac_NEW.py

该程序文件是一个量化交易策略的实现。它包括了以下内容：

1. 导入必要的库，包括backtrader等。
2. 定义了一个名为 `TestStrategy`的策略类，其中包含了日志记录、订单通知、数据存储、状态收集等方法。
3. 在 `next`方法中，实现了策略的具体逻辑，包括选择动作、存储数据、收集状态信息、学习并执行动作等步骤。
4. 定义了一个 `run_train`函数，用于读取数据文件、运行回测和输出最终投资组合价值。
5. 最后绘制出了最终价值列表的图表，并输出了平均收益率。

整体来说，该程序实现了一个基于时间序列数据的量化交易策略的训练和回测过程。

## utils/util.py

该程序文件包含了两个类：`ReplayBuffer` 和 `LSTM_ReplayBuffer`。这两个类是用于代理的简单FIFO经验回放缓冲区。

- `ReplayBuffer` 类：
  - 属性：
    - 包括观察缓冲区、下一个观察缓冲区、动作缓冲区、奖励缓冲区和完成标志缓冲区。
    - 包括指针、大小和最大大小属性。
  - 方法：
    - `__init__`: 初始化方法用于创建缓冲区和设置缓冲区的大小。
    - `add`: 添加经验到缓冲区的方法。
    - `sample`: 从缓冲区中随机采样一批经验数据。
- `LSTM_ReplayBuffer` 类：

  - 属性：
    - 包括观察缓冲区、资金和比率缓冲区、下一个观察缓冲区、下一个资金和比率缓冲区、动作缓冲区、奖励缓冲区和完成标志缓冲区。
    - 包括指针、大小和最大大小属性。
  - 方法：
    - `__init__`: 初始化方法用于创建缓冲区和设置缓冲区的大小。
    - `add`: 添加经验到缓冲区的方法，包括资金和比率信息。
    - `sample`: 从缓冲区中随机采样一批经验数据，包括资金和比率信息。

这两个类实现了简单的经验回放功能，用于在强化学习中保存和采样经验数据。

## utils/LSTM_models.py

该程序文件定义了两个基于LSTM的神经网络模型：`LSTM_SAC_Actor`和 `LSTM_Q_net`。`LSTM_SAC_Actor`用于定义一个Actor模型，包括LSTM层和全连接层，输出均值和标准差，并生成正态分布采样的动作；`LSTM_Q_net`用于定义一个Q值模型，也包括LSTM层和全连接层，用于计算给定状态、资金比例、动作的Q值。在模型中使用了Mish激活函数和LeakyReLU非线性变换函数。

主要实现的功能包括：

1. 定义了Mish激活函数。
2. `LSTM_SAC_Actor`类定义了一个基于LSTM的Actor模型，包括LSTM、全连接层和输出均值/标准差的层。
3. `LSTM_SAC_Actor`类中实现了前向传播方法，将输入状态、资金比例传入LSTM和全连接层，并生成动作。
4. `LSTM_Q_net`类定义了一个基于LSTM的Q值模型，也包括LSTM、全连接层和输出Q值的层。
5. `LSTM_Q_net`类中实现了前向传播方法，将输入状态、资金比例、动作传入LSTM和全连接层，并计算Q值。

以上是对 `LSTM_models.py`文件的简要概述。
